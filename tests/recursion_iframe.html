<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<meta name="recursion" content="width=300">
	<style>
		.s14 {color: #b29ddc;}
		.s18 {color: #dc9db2;}
		.grey {color: grey;}
		span.indent {
			display:inline-block;
			margin-left:20px;
			margin-bottom: 10px;
		}
		.mono {font-family: monospace, "Courier New"; font-size: 12px;}
		.spaces {white-space: pre-wrap;}
		.top {
			position: fixed;
			top: 0px;
			left: 0px;
		}
	</style>
</head>

<body>
<div class="top mono">
	<span class='s14'>RUN 1:</span><br><span class='indent grey'>level: <span id="doc1"></span><br>stack: <span id="doc2"></span></span><br>
	<span class='s14'>RUN 2:</span><br><span class='indent grey'>level: <span id="doc3"></span><br>stack: <span id="doc4"></span></span>
</div>

</body>
<script>
'use strict';

const get_isRecursion_doc = () => new Promise(resolve => {
	try {
		let level = 0
		function recurse() {level++; recurse()}
		try {
			recurse()
		} catch(e) {
			document.getElementById("doc1").innerHTML = level
			document.getElementById("doc2").innerHTML = e.stack.toString().length
		}
		level = 0
		try {
			recurse()
		} catch(e) {
			document.getElementById("doc3").innerHTML = level
			document.getElementById("doc4").innerHTML = e.stack.toString().length
			return resolve()
		}
	} catch(e) {
		console.error(e)
		document.getElementById("doc1").innerHTML = e.name
		return resolve()
	}
})
get_isRecursion_doc()

</script>
</html>
